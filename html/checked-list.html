<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>checked list</title>
</head>
<body>
<div class="main">
  <h2 class="title">오늘 할 일</h2>
  <ul id="to-do-list">
    <li class="item">자바스크립트 공부하기</li>
    <li class="item">고양이 화장실 청소하기</li>
    <li class="item">고양이 장난감 쇼핑하기</li>
  </ul>
</div>
<script>

  const toDoList = document.querySelector('#to-do-list');

  // 1. updateToDo 함수
  function updateToDo(event) {
    if (event.target.classList.contains('item')){
      event.target.classList.toggle('done');
    }
  }

  // 2. 각 li 태그가 아니라 하나의 태그에만 이벤트 핸들러를 등록
  toDoList.addEventListener('click', updateToDo)

  // 테스트 코드
  const newToDo = document.createElement('li');
  newToDo.textContent = '가계부 정리하기';
  newToDo.classList.add('item');
  toDoList.append(newToDo);

  toDoList.children[2].addEventListener('click', function(e) {e.stopPropagation()});

</script>
</body>
</html>